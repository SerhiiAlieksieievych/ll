{% extends 'base.html' %}
{% block content %}
    <div class="container mt-5">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'analysis_list' %}">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞</a></li>
                <li class="breadcrumb-item active">{{ analysis.title }}</li>
            </ol>
        </nav>

        <h2 class="mb-4">{{ analysis.title }}</h2>

        <ul class="nav nav-tabs" id="analysisTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="text-tab" data-bs-toggle="tab" data-bs-target="#textContent" type="button" role="tab">
                    üìñ –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="vocab-tab" data-bs-toggle="tab" data-bs-target="#vocabContent" type="button" role="tab">
                    üóÇÔ∏è –°–ª–æ–≤–Ω–∏–∫ —Ç–µ–∫—Å—Ç—É ({{ words.count }})
                </button>
            </li>
        </ul>

        <div class="tab-content border-start border-end border-bottom p-4 bg-white shadow-sm" id="analysisTabContent">

            <div class="tab-pane fade show active" id="textContent" role="tabpanel">
                <div style="white-space: pre-wrap; line-height: 1.8; font-size: 1.1rem;">
                    {{ analysis.text }}
                </div>
            </div>

            <div class="tab-pane fade" id="vocabContent" role="tabpanel">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>–°–ª–æ–≤–æ</th>
                                <th>–ü–µ—Ä–µ–∫–ª–∞–¥</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for word in words %}
                                <tr>
                                    <td class="fw-bold text-primary">{{ word.english_word }}</td>
                                    <td>{{ word.ukrainian_translation }}</td>
                                    <td>
                                        <span class="badge bg-success-subtle text-success">–£ —Å–ª–æ–≤–Ω–∏–∫—É</span>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}