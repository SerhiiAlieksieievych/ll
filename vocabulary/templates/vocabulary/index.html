{% extends 'base.html' %}
{% block content %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="#">–ú—ñ–π –°–ª–æ–≤–Ω–∏–∫ üìö</a>
        <div class="navbar-text text-white me-3">
            –í—ñ—Ç–∞—é, **{{ user.username }}**!
        </div>
        <form action="{% url 'logout' %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-outline-danger btn-sm">–í–∏–π—Ç–∏</button>
        </form>
    </div>
</nav>

    <div class="container">
        <h2>–ú–æ—ó —Å–ª–æ–≤–∞</h2>
        <table class="table table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–°–ª–æ–≤–æ (En)</th>
                    <th>–ü–µ—Ä–µ–∫–ª–∞–¥ (Ua)</th>
                    <th>–î–∂–µ—Ä–µ–ª–æ</th>
                    <th class="text-center">–î—ñ—ó</th>
                </tr>
            </thead>
            <tbody>
                {% for word in words %}
                <tr class="{% if word.is_learned %}table-light text-muted{% endif %}">
                    <td>
                        <a href="{% url 'toggle_word_status' word.id %}" class="text-decoration-none">
                            {% if word.is_learned %}
                                <span class="badge bg-success">–í–∏–≤—á–µ–Ω–æ ‚úÖ</span>
                            {% else %}
                                <span class="badge bg-warning text-dark">–í—á—É ‚è≥</span>
                            {% endif %}
                        </a>
                    </td>
                    <td><strong>{{ word.english_word }}</strong></td>
                    <td>{{ word.ukrainian_translation }}</td>
                    <td>
                        <small class="text-secondary">{{ word.get_source_display }}</small>
                    </td>
                    <td class="text-center">
                        <div class="btn-group">
                            <a href="{% url 'edit_word' word.id %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
                            <a href="{% url 'delete_word' word.id %}"
                               class="btn btn-sm btn-outline-danger"
                               onclick="return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ?')">üóëÔ∏è</a>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center">–í–∞—à —Å–ª–æ–≤–Ω–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π. –ß–∞—Å –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Å–ª–æ–≤–∞!</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="d-flex gap-2">
            <a href="{% url 'add_word' %}" class="btn btn-success">+ –î–æ–¥–∞—Ç–∏ —Å–ª–æ–≤–æ</a>
            <a href="{% url 'analyze_text' %}" class="btn btn-outline-primary">üîç –ê–Ω–∞–ª—ñ–∑ —Ç–µ–∫—Å—Ç—É</a>
        </div>
    </div>
{% endblock %}